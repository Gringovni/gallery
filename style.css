/* Lightbox (UPDATED — only section changed) */
.lb{
  position: fixed;
  inset: 0;
  background: #ffffff; /* CHG: remove transparency (solid white) */
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 50;
}

.lb.open{ display:flex; }

/* New “balanced” lightbox layout:
   - desktop: image left, prompt right
   - mobile: prompt below
   Supports both:
   - your older structure (.lb-figure, .lb-caption)
   - the newer structure (.lb-content, .lb-media, .lb-side, .lb-prompt)
*/
.lb-content,
.lb-figure{
  margin: 0;
  width: min(1200px, 92vw);
  height: min(86vh, 860px);
  display: grid;
  grid-template-columns: 1fr 460px; /* was 320px */
  gap: 28px;
  align-items: center;

  min-height: 0; /* CHG: allow children to shrink instead of overflowing */
}

/* Image area */
.lb-media{
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 0;
  min-height: 0;
}

/* Image sizing (prevents oversizing / keeps centered) */
.lb-img{
  max-width: 100%;
  max-height: 86vh;
  object-fit: contain;
  display: block;
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}

/* Prompt panel (right on desktop) */
.lb-side{
  align-self: center;
  justify-self: stretch;
  min-width: 0;
  min-height: 0; /* CHG: required so overflow rules can work predictably */
  color: var(--muted);
  letter-spacing: .02em;
  line-height: 1.5;
  padding-right: 6px;
}

/* Prompt text (label + content styling) */
.lb-prompt{
  margin: 0;
  white-space: pre-wrap;
  font-family: "Source Serif 4", Georgia, "Times New Roman", serif;
  font-style: italic;
  font-weight: 300;
  font-size: 18px;     /* down from 20px */
  line-height: 1.38;  /* tighter but readable */
  color: #444;
  padding-top: 6px;
}

/* PROMPT: label (first line) */
.lb-prompt::first-line{
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-style: italic;
  font-weight: 300;
  font-size: 12px;
  color: #222;
  letter-spacing: 0.08em;
  line-height: 1.25;
  /* remove padding-top */
}

/* Mobile: viewport-safe layout (no overflow), prompt scrolls independently */
@media (max-width: 900px){
  .lb-content,
  .lb-figure{
    grid-template-columns: 1fr;
    grid-template-rows: minmax(0, 1fr) minmax(160px, 40vh); /* CHG: constrain prompt area */
    height: min(92vh, 92dvh);    /* CHG: never exceed viewport height */
    max-height: min(92vh, 92dvh);/* CHG: never exceed viewport height */
    overflow: hidden;            /* CHG: prevent overall lightbox content overflow */
    padding: 64px 0 18px;        /* CHG: reserves space so image never collides with close X */
  }

  .lb-media{
    min-height: 0;               /* CHG: ensures image area can shrink */
  }

  .lb-img{
    max-height: 100%;            /* CHG: fit inside the constrained first row */
  }

  .lb-side{
    padding: 14px 16px 0;
    text-align: left;
    overflow: auto;              /* CHG: prompt scrolls independently */
    -webkit-overflow-scrolling: touch; /* CHG: smoother iOS scrolling */
    min-height: 0;
  }
}

@media (max-width: 640px){
  .lb-prompt{
    font-size: 16px;
    line-height: 1.5;
  }
}

.lb-close{
  position: fixed;  /* CHG: always visible/tappable even if content scrolls */
  top: 16px;
  right: 18px;
  border: none;
  background: transparent;
  font-size: 36px;
  line-height: 1;
  cursor: pointer;
  color: #111;
  opacity: .65;
  z-index: 60;      /* CHG: ensure it stays above image/content */
}
.lb-close:hover{ opacity: 1; }

.lb-nav{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  border: none;
  background: transparent;
  font-size: 44px;
  cursor: pointer;
  color: #111;
  padding: 14px 18px;
  opacity: .55;
  user-select: none;
}
.lb-nav:hover{ opacity: 1; }

.lb-prev{ left: 14px; }
.lb-next{ right: 14px; }
.lb-nav:disabled{ cursor: default; }

/* === LIGHTBOX NAV ARROWS — chevron shape (match HERO cue style) === */

/* Hide the ‹ › characters but keep them accessible */
.lb-nav{
  color: transparent;          /* hides the glyph */
  text-shadow: none;
  position: absolute;          /* already is, but keep explicit */
}

/* Draw chevrons with borders (same visual language as .hero-scroll) */
.lb-nav::before{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 16px;                 /* tweak size */
  height: 16px;                /* tweak size */
  border-right: 3px solid rgba(17,17,17,0.9);
  border-bottom: 3px solid rgba(17,17,17,0.9);
  transform: translate(-50%, -50%) rotate(135deg); /* default: LEFT */
}

/* Right chevron */
.lb-next::before{
  transform: translate(-50%, -50%) rotate(-45deg);
}

/* Optional: make disabled state feel consistent */
.lb-nav:disabled::before{
  opacity: 0.25;
}

/* Optional: slightly bigger on large screens (feel free to remove) */
@media (min-width: 900px){
  .lb-nav::before{
    width: 18px;
    height: 18px;
  }
}
